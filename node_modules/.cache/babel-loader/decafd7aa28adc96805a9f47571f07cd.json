{"ast":null,"code":"import _toConsumableArray from\"/home/aman/project/front end react/React-js-machine-learning-master/frontend/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/aman/project/front end react/React-js-machine-learning-master/frontend/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from\"react\";import{Grid,TablePagination,Divider,Toolbar,Typography,Button,Paper,Box,withStyles}from\"@material-ui/core\";import DeleteIcon from\"@material-ui/icons/Delete\";import SelfAligningImage from\"../../../shared/components/SelfAligningImage\";import HighlightedInformation from\"../../../shared/components/HighlightedInformation\";import ConfirmationDialog from\"../../../shared/components/ConfirmationDialog\";var styles={dBlock:{display:\"block\"},dNone:{display:\"none\"},toolbar:{justifyContent:\"space-between\"}};var rowsPerPage=25;function PostContent(props){var pushMessageToSnackbar=props.pushMessageToSnackbar,setPosts=props.setPosts,posts=props.posts,openAddPostModal=props.openAddPostModal,classes=props.classes;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDeletePostDialogOpen=_useState4[0],setIsDeletePostDialogOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDeletePostDialogLoading=_useState6[0],setIsDeletePostDialogLoading=_useState6[1];var closeDeletePostDialog=useCallback(function(){setIsDeletePostDialogOpen(false);setIsDeletePostDialogLoading(false);},[setIsDeletePostDialogOpen,setIsDeletePostDialogLoading]);var deletePost=useCallback(function(){setIsDeletePostDialogLoading(true);setTimeout(function(){var _posts=_toConsumableArray(posts);var index=_posts.find(function(element){return element.id===deletePost.id;});_posts.splice(index,1);setPosts(_posts);pushMessageToSnackbar({text:\"Your post has been deleted\"});closeDeletePostDialog();},1500);},[posts,setPosts,setIsDeletePostDialogLoading,pushMessageToSnackbar,closeDeletePostDialog]);var onDelete=useCallback(function(post){setIsDeletePostDialogOpen(true);},[setIsDeletePostDialogOpen]);var handleChangePage=useCallback(function(__,page){setPage(page);},[setPage]);var printImageGrid=useCallback(function(){if(posts.length>0){return/*#__PURE__*/React.createElement(Box,{p:1},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},posts.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(element){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,sm:4,md:3,key:element.id},/*#__PURE__*/React.createElement(SelfAligningImage,{src:element.src,title:element.name,timeStamp:element.timestamp,options:[{name:\"Delete\",onClick:function onClick(){onDelete(element);},icon:/*#__PURE__*/React.createElement(DeleteIcon,null)}]}));})));}return/*#__PURE__*/React.createElement(Box,{m:2},/*#__PURE__*/React.createElement(HighlightedInformation,null,\"No posts added yet. Click on \\\"NEW\\\" to create your first one.\"));},[posts,onDelete,page]);return/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\"},\"Your Posts\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:openAddPostModal,disableElevation:true},\"Add Post\")),/*#__PURE__*/React.createElement(Divider,null),printImageGrid(),/*#__PURE__*/React.createElement(TablePagination,{component:\"div\",count:posts.length,rowsPerPage:rowsPerPage,page:page,backIconButtonProps:{\"aria-label\":\"Previous Page\"},nextIconButtonProps:{\"aria-label\":\"Next Page\"},onChangePage:handleChangePage,classes:{select:classes.dNone,selectIcon:classes.dNone,actions:posts.length>0?classes.dBlock:classes.dNone,caption:posts.length>0?classes.dBlock:classes.dNone},labelRowsPerPage:\"\"}),/*#__PURE__*/React.createElement(ConfirmationDialog,{open:isDeletePostDialogOpen,title:\"Confirmation\",content:\"Do you really want to delete the post?\",onClose:closeDeletePostDialog,loading:isDeletePostDialogLoading,onConfirm:deletePost}));}export default withStyles(styles)(PostContent);","map":{"version":3,"sources":["/home/aman/project/front end react/React-js-machine-learning-master/frontend/interface/src/logged_in/components/posts/PostContent.js"],"names":["React","useState","useCallback","Grid","TablePagination","Divider","Toolbar","Typography","Button","Paper","Box","withStyles","DeleteIcon","SelfAligningImage","HighlightedInformation","ConfirmationDialog","styles","dBlock","display","dNone","toolbar","justifyContent","rowsPerPage","PostContent","props","pushMessageToSnackbar","setPosts","posts","openAddPostModal","classes","page","setPage","isDeletePostDialogOpen","setIsDeletePostDialogOpen","isDeletePostDialogLoading","setIsDeletePostDialogLoading","closeDeletePostDialog","deletePost","setTimeout","_posts","index","find","element","id","splice","text","onDelete","post","handleChangePage","__","printImageGrid","length","slice","map","src","name","timestamp","onClick","icon","select","selectIcon","actions","caption"],"mappings":"kaAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,KAA6C,OAA7C,CAEA,OACEC,IADF,CAEEC,eAFF,CAGEC,OAHF,CAIEC,OAJF,CAKEC,UALF,CAMEC,MANF,CAOEC,KAPF,CAQEC,GARF,CASEC,UATF,KAUO,mBAVP,CAWA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,8CAA9B,CACA,MAAOC,CAAAA,sBAAP,KAAmC,mDAAnC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,+CAA/B,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACbC,MAAM,CAAE,CAAEC,OAAO,CAAE,OAAX,CADK,CAEbC,KAAK,CAAE,CAAED,OAAO,CAAE,MAAX,CAFM,CAGbE,OAAO,CAAE,CACPC,cAAc,CAAE,eADT,CAHI,CAAf,CAQA,GAAMC,CAAAA,WAAW,CAAG,EAApB,CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,IAExBC,CAAAA,qBAFwB,CAOtBD,KAPsB,CAExBC,qBAFwB,CAGxBC,QAHwB,CAOtBF,KAPsB,CAGxBE,QAHwB,CAIxBC,KAJwB,CAOtBH,KAPsB,CAIxBG,KAJwB,CAKxBC,gBALwB,CAOtBJ,KAPsB,CAKxBI,gBALwB,CAMxBC,OANwB,CAOtBL,KAPsB,CAMxBK,OANwB,eAQF5B,QAAQ,CAAC,CAAD,CARN,wCAQnB6B,IARmB,eAQbC,OARa,8BASkC9B,QAAQ,CAAC,KAAD,CAT1C,yCASnB+B,sBATmB,eASKC,yBATL,8BAUwChC,QAAQ,CACxE,KADwE,CAVhD,yCAUnBiC,yBAVmB,eAUQC,4BAVR,eAc1B,GAAMC,CAAAA,qBAAqB,CAAGlC,WAAW,CAAC,UAAM,CAC9C+B,yBAAyB,CAAC,KAAD,CAAzB,CACAE,4BAA4B,CAAC,KAAD,CAA5B,CACD,CAHwC,CAGtC,CAACF,yBAAD,CAA4BE,4BAA5B,CAHsC,CAAzC,CAKA,GAAME,CAAAA,UAAU,CAAGnC,WAAW,CAAC,UAAM,CACnCiC,4BAA4B,CAAC,IAAD,CAA5B,CACAG,UAAU,CAAC,UAAM,CACf,GAAMC,CAAAA,MAAM,oBAAOZ,KAAP,CAAZ,CACA,GAAMa,CAAAA,KAAK,CAAGD,MAAM,CAACE,IAAP,CAAY,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,EAAR,GAAeN,UAAU,CAACM,EAAvC,EAAZ,CAAd,CACAJ,MAAM,CAACK,MAAP,CAAcJ,KAAd,CAAqB,CAArB,EACAd,QAAQ,CAACa,MAAD,CAAR,CACAd,qBAAqB,CAAC,CACpBoB,IAAI,CAAE,4BADc,CAAD,CAArB,CAGAT,qBAAqB,GACtB,CATS,CASP,IATO,CAAV,CAUD,CAZ6B,CAY3B,CACDT,KADC,CAEDD,QAFC,CAGDS,4BAHC,CAIDV,qBAJC,CAKDW,qBALC,CAZ2B,CAA9B,CAoBA,GAAMU,CAAAA,QAAQ,CAAG5C,WAAW,CAC1B,SAAC6C,IAAD,CAAU,CACRd,yBAAyB,CAAC,IAAD,CAAzB,CACD,CAHyB,CAI1B,CAACA,yBAAD,CAJ0B,CAA5B,CAOA,GAAMe,CAAAA,gBAAgB,CAAG9C,WAAW,CAClC,SAAC+C,EAAD,CAAKnB,IAAL,CAAc,CACZC,OAAO,CAACD,IAAD,CAAP,CACD,CAHiC,CAIlC,CAACC,OAAD,CAJkC,CAApC,CAOA,GAAMmB,CAAAA,cAAc,CAAGhD,WAAW,CAAC,UAAM,CACvC,GAAIyB,KAAK,CAACwB,MAAN,CAAe,CAAnB,CAAsB,CACpB,mBACE,oBAAC,GAAD,EAAK,CAAC,CAAE,CAAR,eACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACGxB,KAAK,CACHyB,KADF,CACQtB,IAAI,CAAGR,WADf,CAC4BQ,IAAI,CAAGR,WAAP,CAAqBA,WADjD,EAEE+B,GAFF,CAEM,SAACX,OAAD,qBACH,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,CAAtB,CAAyB,EAAE,CAAE,CAA7B,CAAgC,GAAG,CAAEA,OAAO,CAACC,EAA7C,eACE,oBAAC,iBAAD,EACE,GAAG,CAAED,OAAO,CAACY,GADf,CAEE,KAAK,CAAEZ,OAAO,CAACa,IAFjB,CAGE,SAAS,CAAEb,OAAO,CAACc,SAHrB,CAIE,OAAO,CAAE,CACP,CACED,IAAI,CAAE,QADR,CAEEE,OAAO,CAAE,kBAAM,CACbX,QAAQ,CAACJ,OAAD,CAAR,CACD,CAJH,CAKEgB,IAAI,cAAE,oBAAC,UAAD,MALR,CADO,CAJX,EADF,CADG,EAFN,CADH,CADF,CADF,CA0BD,CACD,mBACE,oBAAC,GAAD,EAAK,CAAC,CAAE,CAAR,eACE,oBAAC,sBAAD,uEADF,CADF,CAOD,CApCiC,CAoC/B,CAAC/B,KAAD,CAAQmB,QAAR,CAAkBhB,IAAlB,CApC+B,CAAlC,CAsCA,mBACE,oBAAC,KAAD,mBACE,oBAAC,OAAD,EAAS,SAAS,CAAED,OAAO,CAACT,OAA5B,eACE,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,eADF,cAEE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,WAFR,CAGE,OAAO,CAAEQ,gBAHX,CAIE,gBAAgB,KAJlB,aAFF,CADF,cAYE,oBAAC,OAAD,MAZF,CAaGsB,cAAc,EAbjB,cAcE,oBAAC,eAAD,EACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAEvB,KAAK,CAACwB,MAFf,CAGE,WAAW,CAAE7B,WAHf,CAIE,IAAI,CAAEQ,IAJR,CAKE,mBAAmB,CAAE,CACnB,aAAc,eADK,CALvB,CAQE,mBAAmB,CAAE,CACnB,aAAc,WADK,CARvB,CAWE,YAAY,CAAEkB,gBAXhB,CAYE,OAAO,CAAE,CACPW,MAAM,CAAE9B,OAAO,CAACV,KADT,CAEPyC,UAAU,CAAE/B,OAAO,CAACV,KAFb,CAGP0C,OAAO,CAAElC,KAAK,CAACwB,MAAN,CAAe,CAAf,CAAmBtB,OAAO,CAACZ,MAA3B,CAAoCY,OAAO,CAACV,KAH9C,CAIP2C,OAAO,CAAEnC,KAAK,CAACwB,MAAN,CAAe,CAAf,CAAmBtB,OAAO,CAACZ,MAA3B,CAAoCY,OAAO,CAACV,KAJ9C,CAZX,CAkBE,gBAAgB,CAAC,EAlBnB,EAdF,cAkCE,oBAAC,kBAAD,EACE,IAAI,CAAEa,sBADR,CAEE,KAAK,CAAC,cAFR,CAGE,OAAO,CAAC,wCAHV,CAIE,OAAO,CAAEI,qBAJX,CAKE,OAAO,CAAEF,yBALX,CAME,SAAS,CAAEG,UANb,EAlCF,CADF,CA6CD,CAUD,cAAe1B,CAAAA,UAAU,CAACK,MAAD,CAAV,CAAmBO,WAAnB,CAAf","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Grid,\n  TablePagination,\n  Divider,\n  Toolbar,\n  Typography,\n  Button,\n  Paper,\n  Box,\n  withStyles,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SelfAligningImage from \"../../../shared/components/SelfAligningImage\";\nimport HighlightedInformation from \"../../../shared/components/HighlightedInformation\";\nimport ConfirmationDialog from \"../../../shared/components/ConfirmationDialog\";\n\nconst styles = {\n  dBlock: { display: \"block\" },\n  dNone: { display: \"none\" },\n  toolbar: {\n    justifyContent: \"space-between\",\n  },\n};\n\nconst rowsPerPage = 25;\n\nfunction PostContent(props) {\n  const {\n    pushMessageToSnackbar,\n    setPosts,\n    posts,\n    openAddPostModal,\n    classes,\n  } = props;\n  const [page, setPage] = useState(0);\n  const [isDeletePostDialogOpen, setIsDeletePostDialogOpen] = useState(false);\n  const [isDeletePostDialogLoading, setIsDeletePostDialogLoading] = useState(\n    false\n  );\n\n  const closeDeletePostDialog = useCallback(() => {\n    setIsDeletePostDialogOpen(false);\n    setIsDeletePostDialogLoading(false);\n  }, [setIsDeletePostDialogOpen, setIsDeletePostDialogLoading]);\n\n  const deletePost = useCallback(() => {\n    setIsDeletePostDialogLoading(true);\n    setTimeout(() => {\n      const _posts = [...posts];\n      const index = _posts.find((element) => element.id === deletePost.id);\n      _posts.splice(index, 1);\n      setPosts(_posts);\n      pushMessageToSnackbar({\n        text: \"Your post has been deleted\",\n      });\n      closeDeletePostDialog();\n    }, 1500);\n  }, [\n    posts,\n    setPosts,\n    setIsDeletePostDialogLoading,\n    pushMessageToSnackbar,\n    closeDeletePostDialog,\n  ]);\n\n  const onDelete = useCallback(\n    (post) => {\n      setIsDeletePostDialogOpen(true);\n    },\n    [setIsDeletePostDialogOpen]\n  );\n\n  const handleChangePage = useCallback(\n    (__, page) => {\n      setPage(page);\n    },\n    [setPage]\n  );\n\n  const printImageGrid = useCallback(() => {\n    if (posts.length > 0) {\n      return (\n        <Box p={1}>\n          <Grid container spacing={1}>\n            {posts\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((element) => (\n                <Grid item xs={6} sm={4} md={3} key={element.id}>\n                  <SelfAligningImage\n                    src={element.src}\n                    title={element.name}\n                    timeStamp={element.timestamp}\n                    options={[\n                      {\n                        name: \"Delete\",\n                        onClick: () => {\n                          onDelete(element);\n                        },\n                        icon: <DeleteIcon />,\n                      },\n                    ]}\n                  />\n                </Grid>\n              ))}\n          </Grid>\n        </Box>\n      );\n    }\n    return (\n      <Box m={2}>\n        <HighlightedInformation>\n          No posts added yet. Click on &quot;NEW&quot; to create your first one.\n        </HighlightedInformation>\n      </Box>\n    );\n  }, [posts, onDelete, page]);\n\n  return (\n    <Paper>\n      <Toolbar className={classes.toolbar}>\n        <Typography variant=\"h6\">Your Posts</Typography>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={openAddPostModal}\n          disableElevation\n        >\n          Add Post\n        </Button>\n      </Toolbar>\n      <Divider />\n      {printImageGrid()}\n      <TablePagination\n        component=\"div\"\n        count={posts.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        backIconButtonProps={{\n          \"aria-label\": \"Previous Page\",\n        }}\n        nextIconButtonProps={{\n          \"aria-label\": \"Next Page\",\n        }}\n        onChangePage={handleChangePage}\n        classes={{\n          select: classes.dNone,\n          selectIcon: classes.dNone,\n          actions: posts.length > 0 ? classes.dBlock : classes.dNone,\n          caption: posts.length > 0 ? classes.dBlock : classes.dNone,\n        }}\n        labelRowsPerPage=\"\"\n      />\n      <ConfirmationDialog\n        open={isDeletePostDialogOpen}\n        title=\"Confirmation\"\n        content=\"Do you really want to delete the post?\"\n        onClose={closeDeletePostDialog}\n        loading={isDeletePostDialogLoading}\n        onConfirm={deletePost}\n      />\n    </Paper>\n  );\n}\n\nPostContent.propTypes = {\n  openAddPostModal: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setPosts: PropTypes.func.isRequired,\n  pushMessageToSnackbar: PropTypes.func,\n};\n\nexport default withStyles(styles)(PostContent);\n"]},"metadata":{},"sourceType":"module"}